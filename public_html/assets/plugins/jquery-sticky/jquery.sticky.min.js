(function(g){var i=Array.prototype.slice;var d=Array.prototype.splice;var f={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:false,getWidthFrom:"",widthFromWrapper:true,responsiveWidth:false},b=g(window),e=g(document),k=[],a=b.height(),h=function(){var l=b.scrollTop(),u=e.height(),t=u-a,n=(l>t)?t-l:0;for(var p=0;p<k.length;p++){var v=k[p],m=v.stickyWrapper.offset().top,q=m-v.topSpacing-n;if(l<=q){if(v.currentTop!==null){v.stickyElement.css({width:"",position:"",top:""});v.stickyElement.parent().removeClass(v.className);v.stickyElement.trigger("sticky-end",[v]);v.currentTop=null}}else{var r=u-v.stickyElement.outerHeight()-v.topSpacing-v.bottomSpacing-l-n;if(r<0){r=r+v.topSpacing}else{r=v.topSpacing}if(v.currentTop!=r){var o;if(v.getWidthFrom){o=g(v.getWidthFrom).width()||null}else{if(v.widthFromWrapper){o=v.stickyWrapper.width()}}if(o==null){o=v.stickyElement.width()}v.stickyElement.css("width",o).css("position","fixed").css("top",r);v.stickyElement.parent().addClass(v.className);if(v.currentTop===null){v.stickyElement.trigger("sticky-start",[v])}else{v.stickyElement.trigger("sticky-update",[v])}if(v.currentTop===v.topSpacing&&v.currentTop>r||v.currentTop===null&&r<v.topSpacing){v.stickyElement.trigger("sticky-bottom-reached",[v])}else{if(v.currentTop!==null&&r===v.topSpacing&&v.currentTop<r){v.stickyElement.trigger("sticky-bottom-unreached",[v])}}v.currentTop=r}}}},j=function(){a=b.height();for(var l=0;l<k.length;l++){var m=k[l];var n=null;if(m.getWidthFrom){if(m.responsiveWidth===true){n=g(m.getWidthFrom).width()}}else{if(m.widthFromWrapper){n=m.stickyWrapper.width()}}if(n!=null){m.stickyElement.css("width",n)}}},c={init:function(l){var m=g.extend({},f,l);return this.each(function(){var o=g(this);var p=o.attr("id");var n=o.outerHeight();var r=p?p+"-"+f.wrapperClassName:f.wrapperClassName;var s=g("<div></div>").attr("id",r).addClass(m.wrapperClassName);o.wrapAll(s);var q=o.parent();if(m.center){q.css({width:o.outerWidth(),marginLeft:"auto",marginRight:"auto"})}if(o.css("float")=="right"){o.css({"float":"none"}).parent().css({"float":"right"})}q.css("height",n);m.stickyElement=o;m.stickyWrapper=q;m.currentTop=null;k.push(m)})},update:h,unstick:function(l){return this.each(function(){var p=this;var n=g(p);var m=-1;var o=k.length;while(o-->0){if(k[o].stickyElement.get(0)===p){d.call(k,o,1);m=o}}if(m!=-1){n.unwrap();n.css({width:"",position:"",top:"","float":""})}})}};if(window.addEventListener){window.addEventListener("scroll",h,false);window.addEventListener("resize",j,false)}else{if(window.attachEvent){window.attachEvent("onscroll",h);window.attachEvent("onresize",j)}}g.fn.sticky=function(l){if(c[l]){return c[l].apply(this,i.call(arguments,1))}else{if(typeof l==="object"||!l){return c.init.apply(this,arguments)}else{g.error("Method "+l+" does not exist on jQuery.sticky")}}};g.fn.unstick=function(l){if(c[l]){return c[l].apply(this,i.call(arguments,1))}else{if(typeof l==="object"||!l){return c.unstick.apply(this,arguments)}else{g.error("Method "+l+" does not exist on jQuery.sticky")}}};g(function(){setTimeout(h,0)})})(jQuery);