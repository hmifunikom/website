/*! nanoScrollerJS - v0.8.0 - (c) 2014 James Florentino; Licensed MIT */
;!function(al,ak,aj){var ai,ah,ag,af,ae,ad,ac,ab,aa,Z,Y,X,W,U,S,Q,O,M,K,J,I,H,G,V,T,R,P,N,L;I={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},Q="scrollbar",S="scroll",ab="mousedown",aa="mousemove",Y="mousewheel",Z="mouseup",U="resize",ae="drag",M="up",W="panedown",ag="DOMMouseScroll",af="down",K="wheel",ad="keydown",ac="keyup",O="touchmove",ai="Microsoft Internet Explorer"===ak.navigator.appName&&/msie 7./i.test(ak.navigator.appVersion)&&ak.ActiveXObject,ah=null,T=ak.requestAnimationFrame,J=ak.cancelAnimationFrame,P=aj.createElement("div").style,L=function(){var h,g,l,k,j,i;for(k=["t","webkitT","MozT","msT","OT"],h=j=0,i=k.length;i>j;h=++j){if(l=k[h],g=k[h]+"ransform",g in P){return k[h].substr(0,k[h].length-1)}}return !1}(),N=function(b){return L===!1?!1:""===L?b:L+b.charAt(0).toUpperCase()+b.substr(1)},R=N("transform"),G=R!==!1,H=function(){var e,c,f;return e=aj.createElement("div"),c=e.style,c.position="absolute",c.width="100px",c.height="100px",c.overflow=S,c.top="-9999px",aj.body.appendChild(e),f=e.offsetWidth-e.clientWidth,aj.body.removeChild(e),f},V=function(){var b,f,e;return f=ak.navigator.userAgent,(b=/(?=.+Mac OS X)(?=.+Firefox)/.test(f))?(e=/Firefox\/\d{2}\./.exec(f),e&&(e=e[0].replace(/\D+/g,"")),b&&+e>23):!1},X=function(){function a(c,b){this.el=c,this.options=b,ah||(ah=H()),this.$el=al(this.el),this.doc=al(this.options.documentContext||aj),this.win=al(this.options.windowContext||ak),this.$content=this.$el.children("."+b.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return a.prototype.preventScrolling=function(d,c){if(this.isActive){if(d.type===ag){(c===af&&d.originalEvent.detail>0||c===M&&d.originalEvent.detail<0)&&d.preventDefault()}else{if(d.type===Y){if(!d.originalEvent||!d.originalEvent.wheelDelta){return}(c===af&&d.originalEvent.wheelDelta<0||c===M&&d.originalEvent.wheelDelta>0)&&d.preventDefault()}}}},a.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},a.prototype.updateScrollValues=function(){var d,c;d=this.content,this.maxScrollTop=d.scrollHeight-d.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=d.scrollTop,c=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==c&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:c}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},a.prototype.setOnScrollStyles=function(){var b;G?(b={},b[R]="translate(0, "+this.sliderTop+"px)"):b={top:this.sliderTop},T?this.scrollRAF||(this.scrollRAF=T(function(c){return function(){c.scrollRAF=null,c.slider.css(b)}}(this))):this.slider.css(b)},a.prototype.createEvents=function(){this.events={down:function(b){return function(c){return b.isBeingDragged=!0,b.offsetY=c.pageY-b.slider.offset().top,b.pane.addClass("active"),b.doc.bind(aa,b.events[ae]).bind(Z,b.events[M]),!1}}(this),drag:function(b){return function(c){return b.sliderY=c.pageY-b.$el.offset().top-b.offsetY,b.scroll(),b.contentScrollTop>=b.maxScrollTop&&b.prevScrollTop!==b.maxScrollTop?b.$el.trigger("scrollend"):0===b.contentScrollTop&&0!==b.prevScrollTop&&b.$el.trigger("scrolltop"),!1}}(this),up:function(b){return function(){return b.isBeingDragged=!1,b.pane.removeClass("active"),b.doc.unbind(aa,b.events[ae]).unbind(Z,b.events[M]),!1}}(this),resize:function(b){return function(){b.reset()}}(this),panedown:function(b){return function(c){return b.sliderY=(c.offsetY||c.originalEvent.layerY)-0.5*b.sliderHeight,b.scroll(),b.events.down(c),!1}}(this),scroll:function(b){return function(c){b.updateScrollValues(),b.isBeingDragged||(b.iOSNativeScrolling||(b.sliderY=b.sliderTop,b.setOnScrollStyles()),null!=c&&(b.contentScrollTop>=b.maxScrollTop?(b.options.preventPageScrolling&&b.preventScrolling(c,af),b.prevScrollTop!==b.maxScrollTop&&b.$el.trigger("scrollend")):0===b.contentScrollTop&&(b.options.preventPageScrolling&&b.preventScrolling(c,M),0!==b.prevScrollTop&&b.$el.trigger("scrolltop"))))}}(this),wheel:function(b){return function(d){var e;if(null!=d){return e=d.delta||d.wheelDelta||d.originalEvent&&d.originalEvent.wheelDelta||-d.detail||d.originalEvent&&-d.originalEvent.detail,e&&(b.sliderY+=-e/3),b.scroll(),!1}}}(this)}},a.prototype.addEvents=function(){var b;this.removeEvents(),b=this.events,this.options.disableResize||this.win.bind(U,b[U]),this.iOSNativeScrolling||(this.slider.bind(ab,b[af]),this.pane.bind(ab,b[W]).bind(""+Y+" "+ag,b[K])),this.$content.bind(""+S+" "+Y+" "+ag+" "+O,b[S])},a.prototype.removeEvents=function(){var b;b=this.events,this.win.unbind(U,b[U]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+S+" "+Y+" "+ag+" "+O,b[S])},a.prototype.generate=function(){var b,n,m,l,k,j,e;return l=this.options,j=l.paneClass,e=l.sliderClass,b=l.contentClass,(k=this.$el.children("."+j)).length||k.children("."+e).length||this.$el.append('<div class="'+j+'"><div class="'+e+'" /></div>'),this.pane=this.$el.children("."+j),this.slider=this.pane.find("."+e),0===ah&&V()?(m=ak.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/\D+/g,""),n={right:-14,paddingRight:+m+14}):ah&&(n={right:-ah},this.$el.addClass("has-scrollbar")),null!=n&&this.$content.css(n),this},a.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},a.prototype.reset=function(){var x,w,v,u,t,s,r,q,p,o,e,d;return this.iOSNativeScrolling?void (this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),x=this.content,u=x.style,t=u.overflowY,ai&&this.$content.css({height:this.$content.height()}),w=x.scrollHeight+ah,o=parseInt(this.$el.css("max-height"),10),o>0&&(this.$el.height(""),this.$el.height(x.scrollHeight>o?o:x.scrollHeight)),r=this.pane.outerHeight(!1),p=parseInt(this.pane.css("top"),10),s=parseInt(this.pane.css("bottom"),10),q=r+p+s,d=Math.round(q/w*q),d<this.options.sliderMinHeight?d=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&d>this.options.sliderMaxHeight&&(d=this.options.sliderMaxHeight),t===S&&u.overflowX!==S&&(d+=ah),this.maxSliderTop=q-d,this.contentHeight=w,this.paneHeight=r,this.paneOuterHeight=q,this.sliderHeight=d,this.slider.height(d),this.events.scroll(),this.pane.show(),this.isActive=!0,x.scrollHeight===x.clientHeight||this.pane.outerHeight(!0)>=x.scrollHeight&&t!==S?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===x.scrollHeight&&t===S?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),v=this.$content.css("position"),("static"===v||"relative"===v)&&(e=parseInt(this.$content.css("right"),10),e&&this.$content.css({right:"",marginRight:e})),this)},a.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop((this.paneHeight-this.contentHeight+ah)*this.sliderY/this.maxSliderTop*-1),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this):void 0},a.prototype.scrollBottom=function(b){return this.isActive?(this.$content.scrollTop(this.contentHeight-this.$content.height()-b).trigger(Y),this.stop().restore(),this):void 0},a.prototype.scrollTop=function(b){return this.isActive?(this.$content.scrollTop(+b).trigger(Y),this.stop().restore(),this):void 0},a.prototype.scrollTo=function(b){return this.isActive?(this.scrollTop(this.$el.find(b).get(0).offsetTop),this):void 0},a.prototype.stop=function(){return J&&this.scrollRAF&&(J(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},a.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),ai&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""})),this},a.prototype.flash=function(){return !this.iOSNativeScrolling&&this.isActive?(this.reset(),this.pane.addClass("flashed"),setTimeout(function(b){return function(){b.pane.removeClass("flashed")}}(this),this.options.flashDelay),this):void 0},a}(),al.fn.nanoScroller=function(a){return this.each(function(){var e,b;if((b=this.nanoscroller)||(e=al.extend({},I,a),this.nanoscroller=b=new X(this,e)),a&&"object"==typeof a){if(al.extend(b.options,a),null!=a.scrollBottom){return b.scrollBottom(a.scrollBottom)}if(null!=a.scrollTop){return b.scrollTop(a.scrollTop)}if(a.scrollTo){return b.scrollTo(a.scrollTo)}if("bottom"===a.scroll){return b.scrollBottom(0)}if("top"===a.scroll){return b.scrollTop(0)}if(a.scroll&&a.scroll instanceof al){return b.scrollTo(a.scroll)}if(a.stop){return b.stop()}if(a.destroy){return b.destroy()}if(a.flash){return b.flash()}}return b.reset()})},al.fn.nanoScroller.Constructor=X}(jQuery,window,document);